<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Barracks Layout Simulator</title>
  <link rel="stylesheet" href="css/style.css">
</head>

<body>
  <div id="app">
    <!-- Header -->
    <header class="header">
      <h1>ğŸ  Barracks Layout Simulator</h1>
      <div class="view-controls">
        <button id="btn-2d" class="view-btn active">2D View</button>
        <button id="btn-3d" class="view-btn">3D View</button>
      </div>
    </header>

    <!-- Main Content -->
    <div class="main-container">
      <!-- Left Sidebar - Furniture Panel -->
      <aside class="sidebar furniture-panel">
        <h2>Furniture Catalog</h2>

        <div class="furniture-category">
          <h3>ğŸ›ï¸ Beds</h3>
          <div class="furniture-items">
            <div class="furniture-item" data-type="single-bed" draggable="true">
              <div class="furniture-icon">ğŸ›ï¸</div>
              <span>Single Bed</span>
              <small>90x200cm</small>
            </div>
            <div class="furniture-item" data-type="bunk-bed" draggable="true">
              <div class="furniture-icon">ğŸ›ï¸</div>
              <span>Bunk Bed</span>
              <small>90x200cm</small>
            </div>
          </div>
        </div>

        <div class="furniture-category">
          <h3>ğŸª‘ Desks & Chairs</h3>
          <div class="furniture-items">
            <div class="furniture-item" data-type="desk" draggable="true">
              <div class="furniture-icon">ğŸª‘</div>
              <span>Desk</span>
              <small>120x60cm</small>
            </div>
            <div class="furniture-item" data-type="chair" draggable="true">
              <div class="furniture-icon">ğŸª‘</div>
              <span>Chair</span>
              <small>45x45cm</small>
            </div>
          </div>
        </div>

        <div class="furniture-category">
          <h3>ğŸ—„ï¸ Storage</h3>
          <div class="furniture-items">
            <div class="furniture-item" data-type="dresser" draggable="true">
              <div class="furniture-icon">ğŸ—„ï¸</div>
              <span>Dresser</span>
              <small>80x45cm</small>
            </div>
            <div class="furniture-item" data-type="dresser-5" draggable="true">
              <div class="furniture-icon">ğŸ—„ï¸</div>
              <span>5-Drawer Dresser</span>
              <small>80x45cm</small>
            </div>
            <div class="furniture-item" data-type="bed-drawer-2" draggable="true">
              <div class="furniture-icon">ğŸ—„ï¸</div>
              <span>2-Drawer Bedside Chest</span>
              <small>90x45cm</small>
            </div>
            <div class="furniture-item" data-type="locker" draggable="true">
              <div class="furniture-icon">ğŸšª</div>
              <span>Locker</span>
              <small>60x60cm</small>
            </div>
            <div class="furniture-item" data-type="footlocker" draggable="true">
              <div class="furniture-icon">ğŸ“¦</div>
              <span>Footlocker</span>
              <small>90x45cm</small>
            </div>
          </div>
        </div>

        <div class="furniture-category">
          <h3>ğŸªŸ Others</h3>
          <div class="furniture-items">
            <div class="furniture-item" data-type="nightstand" draggable="true">
              <div class="furniture-icon">ğŸªŸ</div>
              <span>Nightstand</span>
              <small>40x40cm</small>
            </div>
            <div class="furniture-item" data-type="trash-bin" draggable="true">
              <div class="furniture-icon">ğŸ—‘ï¸</div>
              <span>Trash Bin</span>
              <small>30x30cm</small>
            </div>
          </div>
        </div>
      </aside>

      <!-- Canvas Container -->
      <main class="canvas-container">
        <div id="canvas-wrapper">
          <canvas id="canvas-2d"></canvas>
          <canvas id="canvas-3d"></canvas>
        </div>
        <div class="canvas-info">
          <span id="room-size">Room Size: 6m x 4m</span>
          <span id="space-usage">Space Usage: 0%</span>
          <span id="furniture-count">Furniture Count: 0</span>
        </div>
      </main>

      <!-- Right Sidebar - Properties Panel -->
      <aside class="sidebar properties-panel">
        <h2>Properties</h2>

        <div class="property-section room-settings">
          <h3>ğŸ“ Room Settings</h3>
          <div class="property-row">
            <label>Width</label>
            <input type="number" id="room-width" value="3.5" min="2" max="15" step="0.1">
            <span>m</span>
          </div>
          <div class="property-row">
            <label>Depth</label>
            <input type="number" id="room-depth" value="5.05" min="2" max="15" step="0.05">
            <span>m</span>
          </div>
          <div class="property-row">
            <label>Height</label>
            <input type="number" id="room-height" value="2.6" min="2" max="4" step="0.1">
            <span>m</span>
          </div>
          <button id="apply-room-size" class="btn-primary">Apply</button>
        </div>

        <div class="property-section selected-furniture" id="selected-furniture-panel" style="display: none;">
          <h3>ğŸª‘ Selected Furniture</h3>
          <div class="property-row">
            <label>Name</label>
            <span id="selected-name">-</span>
          </div>
          <div class="property-row">
            <label>X Position</label>
            <input type="number" id="pos-x" step="0.1">
            <span>m</span>
          </div>
          <div class="property-row">
            <label>Z Position</label>
            <input type="number" id="pos-z" step="0.1">
            <span>m</span>
          </div>
          <div class="property-row">
            <label>Rotation</label>
            <input type="number" id="rotation" value="0" min="0" max="360" step="15">
            <span>Â°</span>
          </div>
          <div class="property-buttons">
            <button id="rotate-left" class="btn-secondary">â†º 90Â°</button>
            <button id="rotate-right" class="btn-secondary">â†» 90Â°</button>
            <button id="delete-furniture" class="btn-danger">ğŸ—‘ï¸ Delete</button>
          </div>
        </div>

        <div class="property-section">
          <h3>âš™ï¸ Options</h3>
          <div class="property-row checkbox-row">
            <input type="checkbox" id="show-grid" checked>
            <label for="show-grid">Show Grid</label>
          </div>
          <div class="property-row checkbox-row">
            <input type="checkbox" id="show-walls" checked>
            <label for="show-walls">Show Walls</label>
          </div>
          <div class="property-row checkbox-row">
            <input type="checkbox" id="snap-to-grid" checked>
            <label for="snap-to-grid">Snap to Grid</label>
          </div>
          <div class="property-row checkbox-row">
            <input type="checkbox" id="show-dimensions">
            <label for="show-dimensions">Show Dimensions</label>
          </div>
          <div class="property-row checkbox-row">
            <input type="checkbox" id="collision-detection" checked>
            <label for="collision-detection">Collision Detection</label>
          </div>
        </div>

        <div class="property-section">
          <h3>ğŸ’¾ Save/Load</h3>
          <button id="save-layout" class="btn-primary">ğŸ’¾ Save Layout</button>
          <button id="load-layout" class="btn-secondary">ğŸ“‚ Load Layout</button>
          <button id="clear-all" class="btn-danger">ğŸ—‘ï¸ Clear All</button>
          <input type="file" id="file-input" accept=".json" style="display: none;">
        </div>

        <div class="property-section">
          <h3>ğŸ“Š Optimization</h3>
          <button id="auto-arrange" class="btn-primary">ğŸ”„ Auto Arrange</button>
          <button id="optimize-space" class="btn-secondary">ğŸ“ Optimize Space</button>
        </div>
      </aside>
    </div>

    <!-- Footer -->
    <footer class="footer">
      <div class="controls-hint">
        <span>ğŸ–±ï¸ Drag: Move furniture</span>
        <span>ğŸ”„ R: Rotate</span>
        <span>ğŸ—‘ï¸ Delete: Remove</span>
        <span>ğŸ“· 3D: Mouse to orbit</span>
      </div>
    </footer>
  </div>

  <!-- Three.js -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>

  <!-- App Scripts -->
  <script type="module" src="js/app.js"></script>
</body>

</html>